#!/usr/bin/env node

const program = require('commander');

const { runProgram } = require('../src/index');

program
  .version(require('../package.json').version)
  .description('`uxpin-merge` starts up an experimentation mode for the project in the CWD. See more commands below.')
  .option('--webpack-config <path>', 'path to a custom webpack config, relative to the current working directory')
  .option('--wrapper <path>', 'path to a custom component wrapper, relative to the current working directory')
  .option('--cwd <path>', 'working directory: path to root of the DS repository')
  .option('--config <path>', 'path to a config file. \'./uxpin.config.js\' is used by default.')
  .option('--uxpin-domain <domain>', 'UXPin domain name â€“ "uxpin.com" by default. Can be used to set a UXPin private cloud domain');

program
  .command('server')
  .description('Start local web server and display the list of design system components')
  .option('--port <number>', 'port number')
  .option('--webpack-config <path>', 'path to a custom webpack config, relative to the current working directory')
  .option('--wrapper <path>', 'path to a custom component wrapper, relative to the current working directory')
  .option('--cwd <path>', 'working directory: path to root of the DS repository')
  .action(() => console.log('starting server...'));

program
  .command('push')
  .description('Upload design system repository information to UXPin')
  .option('--webpack-config <path>', 'path to a custom webpack config, relative to the current working directory')
  .option('--wrapper <path>', 'path to a custom component wrapper, relative to the current working directory')
  .option('--cwd <path>', 'working directory: path to root of the DS repository')
  .option('--config <path>', 'path to a config file. \'./uxpin.config.js\' is used by default.')
  .action(() => {});

program
  .command('dump')
  .description('Shows all information (in JSON) about the design system repository and NOT send to UXPin')
  .option('--cwd <path>', 'working directory: path to root of the DS repository')
  .option('--config <path>', 'path to a config file. \'./uxpin.config.js\' is used by default.')
  .action(() => {});

program
  .command('summary')
  .description('Show only design system summary without building it')
  .option('--cwd <path>', 'working directory: path to root of the DS repository')
  .option('--config <path>', 'path to a config file. \'./uxpin.config.js\' is used by default.')
  .action(() => {});

program.parse(process.argv);

return runProgram(program);
